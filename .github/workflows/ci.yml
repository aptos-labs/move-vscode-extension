name: CI

on:
    push:
        branches:
            - master
    pull_request:

jobs:
    tests:
        strategy:
            matrix:
                platform: [ ubuntu-latest, windows-latest, macos-latest ]
        runs-on: ${{ matrix.platform }}
        steps:
            -   uses: actions/checkout@v4

            -   uses: dtolnay/rust-toolchain@stable

            -   name: Build aptos-analyzer binary with xtask
                run: cargo xtask install --server

